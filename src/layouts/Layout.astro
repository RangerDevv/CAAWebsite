---

import "../styles/global.css";
import logo from "../assets/CAALogoTransparent.png";
import LoadingScreen from "../components/loadingScreen.astro";

const year = new Date().getFullYear();

const sections = [
	{ name: "Home", icon: "üè†", hash: "#home" },
	{ name: "About Us", icon: "üë•", hash: "#about" },
	{ name: "What We Offer", icon: "‚ú®", hash: "#features" },
	{ name: "Latest News", icon: "üì∞", hash: "#news" },
	{ name: "Community Stories", icon: "üí¨", hash: "#testimonials" },
	{ name: "Join Server", icon: "üéâ", hash: "#join" }
];

const socialLinks = [
	{ name: "Instagram", icon: "üì∑", url: "https://instagram.com/your-handle" },
	{ name: "TikTok", icon: "üéµ", url: "https://tiktok.com/@your-handle" },
	{ name: "Twitter", icon: "üê¶", url: "https://twitter.com/your-handle" },
	{ name: "YouTube", icon: "üì∫", url: "https://youtube.com/@your-channel" }
];

---

<!doctype html>
<html lang="en" data-theme="dark">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- SEO Meta Tags -->
		<title>Central Asian American Community | Discord Server & Social Network</title>
		<meta name="description" content="Join the Central Asian American Community Discord server - a vibrant online community where Central Asian Americans connect, socialize, share photos, and build lasting friendships." />
		<meta name="keywords" content="Central Asian American, Discord community, Central Asian Discord, social network, community server, Central Asian Americans, online community, hangout, socialize" />
		<meta name="author" content="Central Asian American Community" />
		<meta name="robots" content="index, follow" />
		<link rel="canonical" href="https://yourdomainhere.com" />
		
		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://yourdomainhere.com" />
		<meta property="og:title" content="Central Asian American Community | Discord Server & Social Network" />
		<meta property="og:description" content="Join the Central Asian American Community Discord server - a vibrant online community where Central Asian Americans connect, socialize, share photos, and build lasting friendships." />
		<meta property="og:image" content={logo.src} />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:image:alt" content="Central Asian American Community Logo" />
		
		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content="https://yourdomainhere.com" />
		<meta property="twitter:title" content="Central Asian American Community | Discord Server & Social Network" />
		<meta property="twitter:description" content="Join the Central Asian American Community Discord server - a vibrant online community where Central Asian Americans connect, socialize, share photos, and build lasting friendships." />
		<meta property="twitter:image" content={logo.src} />
		<meta property="twitter:image:alt" content="Central Asian American Community Logo" />
		
		<!-- Additional SEO -->
		<meta name="theme-color" content="#5865F2" />
	</head>
	<body>
			<LoadingScreen />
			
			<!-- Scroll progress indicator -->
			<div id="scroll-progress" class="scroll-progress"></div>
			
			<div id="cursor-dot" class="cursor-dot"></div>
			<div id="cursor-ring" class="cursor-ring"></div>
			
			<div class="p-6 ">
			<div class="gap-10 drawer lg:drawer-open">
			<input id="my-drawer-3" type="checkbox" class="drawer-toggle" />
			<div class="drawer-content flex flex-col items-center justify-center">
				<!-- Page content here -->
				<!-- Mobile navbar toggle -->
				<label for="my-drawer-3" aria-label="Open navigation" class=" lg:hidden fixed top-4 left-4 z-50 btn btn-ghost bg-base-200/80 backdrop-blur-md px-3 py-2 rounded-md shadow">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
					</svg>
					<span class="sr-only">Open navigation</span>
				</label>
				<slot />
			</div>
			<div class="drawer-side">
				<label for="my-drawer-3" aria-label="close sidebar" class="drawer-overlay"></label>
				<ul class="menu bg-base-300/40 backdrop-blur supports-backdrop-filter:bg-base-300/30 border border-base-300/30 min-h-full w-80 p-6 gap-2 rounded-r-xl shadow-lg">
					<li class="mb-4">
						<a href="#home" class="flex items-center gap-3">
							<img src={logo.src} alt="Central Asian American Community Logo" class="h-14 w-auto rounded" loading="lazy" />
							<span class="text-xl font-semibold leading-tight">Central Asian American<br />Community</span>
						</a>
					</li>
					<li class="menu-title">Navigate</li>
					{sections.map(section => (
						<li>
							<a href={section.hash} class="nav-link flex items-center gap-3 hover:bg-base-300 rounded px-2 py-2 transition-colors">
								<span>{section.icon}</span>
								<span>{section.name}</span>
							</a>
						</li>
					))}
					<div class="divider my-4"></div>
					<li class="menu-title">Connect</li>
					{socialLinks.map(link => (
						<li>
							<a href={link.url} target="_blank" rel="noopener noreferrer" class="flex items-center gap-3 hover:bg-base-300 rounded px-2 py-2 transition-colors">
								<span>{link.icon}</span>
								<span>{link.name}</span>
							</a>
						</li>
					))}
					<div class="mt-auto"></div>
					<li class="mt-auto pt-4">
						<p class="text-xs opacity-60">¬© {year} CAA Community</p>
					</li>
				</ul>
			</div>
			</div>
		</div>

		<script>
			// Custom cursor effect
			const cursorDot = document.getElementById('cursor-dot');
			const cursorRing = document.getElementById('cursor-ring');
			
			let mouseX = 0;
			let mouseY = 0;
			let ringX = 0;
			let ringY = 0;
			
			// Track mouse position
			document.addEventListener('mousemove', (e) => {
				mouseX = e.clientX;
				mouseY = e.clientY;
				
				// Move dot immediately
				if (cursorDot) {
					cursorDot.style.left = mouseX + 'px';
					cursorDot.style.top = mouseY + 'px';
				}
			});
			
			// Smooth follow animation for ring
			function animateRing() {
				// Smooth interpolation
				ringX += (mouseX - ringX) * 0.15;
				ringY += (mouseY - ringY) * 0.15;
				
				if (cursorRing) {
					cursorRing.style.left = ringX + 'px';
					cursorRing.style.top = ringY + 'px';
				}
				
				requestAnimationFrame(animateRing);
			}
			animateRing();
			
			// Add hover effects to interactive elements
			const interactiveElements = document.querySelectorAll('a, button, input, textarea, [role="button"]');
			
			interactiveElements.forEach(el => {
				el.addEventListener('mouseenter', () => {
					if (cursorDot) cursorDot.classList.add('cursor-hover');
					if (cursorRing) cursorRing.classList.add('cursor-hover');
				});
				
				el.addEventListener('mouseleave', () => {
					if (cursorDot) cursorDot.classList.remove('cursor-hover');
					if (cursorRing) cursorRing.classList.remove('cursor-hover');
				});
			});
			
			// Hide default cursor
			document.body.style.cursor = 'none';
			document.querySelectorAll('a, button, input, textarea').forEach(el => {
				(el as HTMLElement).style.cursor = 'none';
			});
			// Close drawer when navigating on mobile
			document.querySelectorAll('.nav-link').forEach(link => {
				link.addEventListener('click', () => {
					const checkbox = document.getElementById('my-drawer-3');
					if (checkbox && window.matchMedia('(max-width: 1024px)').matches) {
						(checkbox as HTMLInputElement).checked = false;
					}
				});
			});

			// Active section highlight in sidebar
			const sectionIds = ['home','about','features','news','testimonials','stats','join'];
			const sectionsEls = sectionIds.map(id => document.getElementById(id)).filter(Boolean);
			const navLinks = Array.from(document.querySelectorAll('.nav-link')) as HTMLAnchorElement[];
			const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					const id = entry.target.id;
					if (!id) return;
					const link = navLinks.find(l => l.getAttribute('href') === '#' + id);
					if (!link) return;
					if (entry.isIntersecting) {
						navLinks.forEach(l => l.classList.remove('bg-base-300'));
						link.classList.add('bg-base-300');
					}
				});
			}, { rootMargin: '-40% 0px -50% 0px', threshold: 0.2 });
			sectionsEls.forEach(el => observer.observe(el!));
		</script>

	</body>
</html>

<style>
	/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Arima:wght@100..700&family=Belanosima:wght@400;600;700&family=Inika:wght@400;700&family=Inria+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Sans+Gujarati:wght@100..900&family=Pixelify+Sans:wght@400..700&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap');

	/* Base dark palette */
	:root {
		--caa-bg: #0f1115;
		--caa-surface: #1b232c;
		--caa-surface-alt: #242f3a;
		--caa-border: #2f3b47;
		--caa-text: #e5e7eb;
		--caa-muted: #94a3b8;
		--caa-accent: #5865F2;
		--caa-accent-hover: #6d7bff;
	}

	html, body {
		margin: 0;
		width: 100%;
		height: 100%;
		background: var(--caa-bg);
		color: var(--caa-text);
		font-family: 'Arima', 'Belanosima', 'Inika', 'Inria Serif', 'Noto Sans Gujarati', 'Pixelify Sans', 'Raleway', system-ui, sans-serif;
		-webkit-font-smoothing: antialiased;
		scroll-behavior: smooth;
	}

	/* Improve menu look when dark */
	.menu li > a {
		border-radius: 8px;
		font-weight: 500;
	}
	.menu li > a:hover {
		background: var(--caa-surface-alt);
	}
	.menu-title {
		font-size: 0.75rem;
		text-transform: uppercase;
		letter-spacing: .08em;
		color: var(--caa-muted);
		font-weight: 600;
	}
	.divider {
		--tw-border-opacity: 1;
		border-color: var(--caa-border);
	}
	/* Mobile toggle subtle shadow */
	label[for="my-drawer-3"] {
		border: 1px solid var(--caa-border);
	}

	.cursor-dot,
	.cursor-ring {
		position: fixed;
		pointer-events: none;
		z-index: 9999;
		mix-blend-mode: difference;
	}

	.cursor-dot {
		width: 8px;
		height: 8px;
		background: #fff;
		border-radius: 50%;
		transform: translate(-50%, -50%);
		transition: width 0.3s ease, height 0.3s ease, background 0.3s ease;
	}

	.cursor-ring {
		width: 40px;
		height: 40px;
		border: 2px solid rgba(255, 255, 255, 0.6);
		border-radius: 50%;
		transform: translate(-50%, -50%);
		transition: width 0.3s ease, height 0.3s ease, border-color 0.3s ease;
	}

	.cursor-dot.cursor-hover {
		width: 16px;
		height: 16px;
		background: rgba(88, 101, 242, 1);
	}

	.cursor-ring.cursor-hover {
		width: 60px;
		height: 60px;
		border-color: rgba(88, 101, 242, 0.8);
	}

	/* Hide custom cursor on mobile/touch devices */
	@media (hover: none) and (pointer: coarse) {
		.cursor-dot,
		.cursor-ring {
			display: none;
		}
	}

	/* Scroll progress indicator */
	.scroll-progress {
		position: fixed;
		top: 0;
		left: 0;
		height: 3px;
		width: 0%;
		background: linear-gradient(90deg, var(--caa-accent), var(--caa-accent-hover), #818cf8);
		z-index: 9999;
		transition: width 0.1s ease;
		box-shadow: 0 0 10px rgba(88, 101, 242, 0.5);
	}

	/* Enhanced card animations */
	@keyframes gradient-border {
		0% { background-position: 0% 50%; }
		50% { background-position: 100% 50%; }
		100% { background-position: 0% 50%; }
	}

	/* Floating badge animation */
	@keyframes float-badge {
		0%, 100% { transform: translateY(0px); }
		50% { transform: translateY(-5px); }
	}

	/* Shine effect */
	@keyframes shine {
		0% { left: -100%; }
		100% { left: 100%; }
	}
</style>
